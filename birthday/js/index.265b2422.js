(window.webpackJsonp=window.webpackJsonp||[]).push([["index"],{"14ec":function(e,t,a){},1537:function(e,t,a){"use strict";var s=a("4ea4");a("e260"),a("e6cf"),a("ddb0");var i=s(a("1da1")),n=s(a("2b0e")),r=s(a("f836")),o=s(a("2951")),l=s(a("6fac")),c=s(a("2b53")),d=a("efaf"),u=a("8af0");n.default.use(l.default);var h=function(){var e=(0,i.default)((function*(){var e=[];Object.entries(c.default).map(t=>{var[a,s]=t;e.push((0,d.loadImage)(s))}),o.default.resources[0]=yield Promise.all(e),yield(0,d.loadFont)(a("0342"),["Lato"]),u.emitter.emit("loaded")}));return function(){return e.apply(this,arguments)}}();u.emitter.once("loaded",()=>{o.default.app=new n.default({render:e=>e(r.default)}).$mount("#app")}),h()},1643:function(e,t,a){"use strict";var s=a("4ea4");a("e6cf");var i=s(a("36cd"));a("9b71"),new(s(a("47e1")).default),Promise.resolve().then(()=>(0,i.default)(a("1537")))},"1be0":function(e,t,a){},2951:function(e,t,a){"use strict";var s=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.state=void 0;var i=s(a("2b0e")),n={appList:[],resources:[]};t.state=n;var r=i.default.prototype.$state=i.default.observable(n);t.default=r},"2b53":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={main:a("ae44").default};t.default=s},"47e1":function(e,t,a){"use strict";var s=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("aa4a");var i=a("8af0"),n=s(a("d158"));t.default=class{constructor(){this.cubes=[{delay:0,color:"#85a2b6"},{delay:.1,color:"#bbcedd"},{delay:.2,color:"#dce4eb"},{delay:.1,color:"#bbcedd"},{delay:.2,color:"#dce4eb"},{delay:.3,color:"#d69293"},{delay:.2,color:"#dce4eb"},{delay:.3,color:"#d69293"},{delay:.4,color:"#be5960"}],this.init()}init(){i.emitter.once("loaded",()=>this.destory()),document.querySelector("body").appendChild(this.$el=n.default.createElement(this.render(n.default.h)))}render(e){return e("div",{attrs:{id:"loading-box"}},[e("div",{class:"sk-cube-grid"},[this.cubes.map(t=>e("div",{class:"sk-cube",style:{"background-color":t.color,"animation-delay":t.delay+"s"}}))])])}destory(){var e=()=>{this.$el.removeEventListener("transitionend",e),this.$el.parentNode.removeChild(this.$el),this.$el=null};this.$el.addEventListener("transitionend",e,{once:!0}),this.$el.style.opacity="0"}}},"6fac":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("ca95"),i={install:e=>{e.config.productionTip=!1,e.use(s,{name:"v-touch"})}};t.default=i},"8af0":function(e,t,a){"use strict";var s=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.emitter=void 0;var i=new(s(a("cb29")).default);t.emitter=i},"9b71":function(e,t,a){},aa4a:function(e,t,a){},ae44:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/main.353d51bf.png"},cb29:function(e,t,a){"use strict";a("c975"),a("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return this.events[e]?(this.events[e].map(e=>e).forEach(e=>e.apply(this,a)),this):this}off(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;var a=this.events[e].indexOf(t);return this.events[e].splice(a,1),this}once(e,t){var a=this;return this.on(e,(function s(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];t.apply(a,n),a.off(e,s)})),this}}},d158:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class s{static h(e,t,a){return(Array.isArray(t)||"string"==typeof t)&&(a=t,t={}),t.children=a?[].concat.apply([],a):[],{type:e,props:t}}static createElement(e){if("string"==typeof e)return document.createTextNode(e);var{type:t,props:a,props:{children:i}}=e,n=document.createElement(t);return s.setProps(n,a),(i=(i=i||[])instanceof Array?i:[i]).map(s.createElement).forEach(n.appendChild.bind(n)),n}static setProps(e,t){for(var a in t)if("children"!=a){var i=t[a];if("object"==typeof i)switch(a){case"style":var n="";for(var r in i){var o=i[r];n+="".concat(r,":").concat(o,";")}e.setAttribute(a,n);break;default:s.setProps(e,i)}else e.setAttribute(a,i)}}}t.default=s},efaf:function(e,t,a){"use strict";a("e260"),a("fb6a"),a("e6cf"),a("25f0"),a("466d"),a("1276"),a("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.updateObject=t.setProps=t.createElement=t.h=t.$typeof=t.loadFont=t.loadImage=t.loadSound=t.loadJson=void 0;t.loadJson=e=>new Promise((t,a)=>{var s=new XMLHttpRequest;s.open("GET",e),s.send(),s.onreadystatechange=()=>{4==s.readyState&&200==s.status&&t(JSON.parse(s.response))}});t.loadSound=e=>new Promise((t,a)=>{var s=new Audio;s.oncanplay=()=>{t(s)},s.onerror=()=>{a("load error:"+e)},s.src=e,null!=navigator.userAgent.match(/iPhone|iPod|iPad/i)&&setTimeout(()=>{s.load()},0)});t.loadImage=e=>new Promise((t,a)=>{var s=new Image;s.onload=()=>{t(s)},s.onerror=()=>{a("load error:"+e)},s.src=e});t.loadFont=(e,t)=>{var a=[];return t.forEach(t=>{var s=t.split(":"),i=s[0];(s[1]?s[1].split(","):["n4"]).forEach(t=>{var s=t.match(/^([nio])([1-9])$/i);if(s){var n="n"==s[1]?"normal":"i"==s[1]?"italic":"oblique",r=parseInt(s[2],10)+"00";a.push(new e(i,{style:n,weight:r}).load())}})}),Promise.all(a)};t.$typeof=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();t.h=(e,t,a)=>(t.children=a?[].concat.apply([],a):[],{type:e,props:t});var s=e=>{if("string"==typeof e)return document.createTextNode(e);var{type:t,props:a,props:{children:n}}=e,r=document.createElement(t);return i(r,a),(n=(n=n||[])instanceof Array?n:[n]).map(s).forEach(r.appendChild.bind(r)),r};t.createElement=s;var i=(e,t)=>{for(var a in t)if("children"!=a){var s=t[a];if("object"==typeof s)switch(a){case"style":var n="";for(var r in s){var o=s[r];n+="".concat(r,":").concat(o,";")}e.setAttribute(a,n);break;default:i(e,s)}else e.setAttribute(a,s)}};t.setProps=i;t.updateObject=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];a&&a.forEach(t=>{for(var a in t)e[a]instanceof Array?e[a]=t[a]:"object"==typeof e[a]?(void 0).updateObject(e[a],t[a]):e[a]=t[a],t[a]=null})}},f836:function(e,t,a){"use strict";var s=a("dbce");a("e260"),a("26e9"),a("1276"),a("498a"),a("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("9ab4"),n=a("60a3"),r=s(a("48d3")),o=a("cffa"),l=a("7212");a("a7a3"),a("14ec"),o.gsap.ticker.lagSmoothing(0,null);var c=(()=>{var e=class extends r.Component{constructor(){super(...arguments),this.splitSymbol="<br>",this.birthDate=+new Date("2020/9/19"),this.revolution=864e5,this.active=!1,this.sceneRotate=0,this.sceneScale=1,this.sceneTranslateY=7,this.isSceneAnimating=!1,this.countDown=0,this.test=!1,this.slideIndex=-1,this.swiperOptions={direction:"vertical",on:{slideChangeTransitionEnd:this.onSlideChangeTransitionEnd}}}get mySwiper(){return this.$refs.mySwiper.swiperInstance}get sceneStyle(){return{transform:"translate3d(-50%, ".concat(this.sceneTranslateY,"rem,0) rotateZ(").concat(this.sceneRotate,"deg) scale3d(").concat(this.sceneScale,",").concat(this.sceneScale,",1)")}}get isBirthDay(){return this.test}get formateMilliSecond(){var e=this.countDown,t=6e4,a=60*t,s=24*a,i=Math.floor(e/s),n=Math.floor((e-i*s)/a),r=Math.floor((e-i*s-n*a)/t),o=Math.floor((e-i*s-n*a-r*t)/1e3),l=e-i*s-n*a-r*t-1e3*o,c=l<10?"0"+l:""+l;return{day:i<10?"0"+i:""+i,hour:n<10?"0"+n:""+n,minute:r<10?"0"+r:""+r,second:o<10?"0"+o:""+o,milliSecond:c=l<100?"0"+c:""+c}}onSlideIndexChange(e){this.doLandInAnimation(1==e)}created(){}mounted(){this.slideIndex=0,this.initCountDown(),setTimeout(()=>{this.active||this.doActive()},2e3)}doLandInAnimation(e){var t=document.querySelectorAll(".land-in");e?t.forEach(e=>{e.style.opacity="1";var t=e.getAttribute("data-text").trim().split(this.splitSymbol);e.innerHTML="";var a=0;t.forEach(t=>{t.split("").forEach(t=>{var s=document.createElement("span");s.textContent=t,s.style.animationDelay="".concat(.05*a,"s"),e.append(s),a++}),e.append(document.createElement("br"))})}):t.forEach(e=>{e.style.opacity=""})}onSlideChangeTransitionEnd(){this.slideIndex=this.mySwiper.activeIndex}initCountDown(){this.countDown=this.birthDate-+new Date,clearInterval(this.countDownTimer),this.countDownTimer=setInterval(()=>{this.countDown=this.birthDate-+new Date,this.countDown<=0&&clearInterval(this.countDownTimer)},1e3)}doActive(){if(!this.isSceneAnimating){this.isSceneAnimating=!0,setTimeout(()=>{this.isSceneAnimating=!1},2e3);var e=new Date,t=+e-+new Date("".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()));if(this.active=!this.active,this.sceneRotate=this.active?t%this.revolution/this.revolution*-360:0,this.sceneScale=this.active?.09:1,this.sceneTranslateY=this.active?-30.2:7,this.active){if(this.snailRotateTween)return this.snailRotateTween.time(this.revolution/1e3).repeat(-1).restart();this.snailRotateTween=o.TweenLite.fromTo(".snail-box",this.revolution/1e3,{rotate:0},{ease:o.Linear.easeNone,rotate:-360,repeat:-1})}else this.snailRotateTween&&this.snailRotateTween.time(2).reverse()}}startsDom(){var e=this.$createElement;return e("div",{class:"stars"},[e("div",{class:"star"}),e("div",{class:"star pink"}),e("div",{class:"star blue"}),e("div",{class:"star yellow"})])}countdownDom(){var e=this.$createElement;return e("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0!=this.slideIndex||this.isBirthDay?null:e("div",{class:"clock clock-countdown"},[e("div",{class:"elem-center"},[e("div",{class:"digit"},[" ",e("span",{class:"days"},[this.formateMilliSecond.day])," ",e("span",{class:"txt"},["天"])," "])]),e("div",{class:"elem-bottom"},[e("div",{class:"deco"}),e("span",{class:"hours"},[this.formateMilliSecond.hour]),e("span",{class:"thin"},[" 小时"])," ",e("span",{class:"minutes"},[this.formateMilliSecond.minute]),e("span",{class:"thin"},[" 分钟"])," ",e("span",{class:"seconds"},[this.formateMilliSecond.second]),e("span",{class:"thin"},[" 秒"])," "])])])}startTextDom(){var e=this.$createElement;return e("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0==this.slideIndex&&this.isBirthDay?e("div",{class:"start-text"},[e("h1",{class:"title slide-bar"},["愿你贪吃不胖，愿你傻人傻福。"]),e("p",{class:"subtitle slide-bar"},["生日快乐！"])]):null])}snailDom(){var e=this.$createElement;return e("div",{class:"snail-box"},[e("div",{class:"snail-wrapper"},[e("div",{class:"snail"},[e("div",{class:"face"}),e("div",{class:"eyes left"}),e("div",{class:"eyes right"}),e("div",{class:"shell front"},[e("div",{class:"innershell"})]),e("div",{class:"shell behind"}),e("div",{class:"bottomchest"})])]),e("div",{class:"speed"},[e("span"),e("span"),e("span"),e("span")]),e("span"),e("span"),e("span"),e("span"),e("span"),e("span")])}page1Dom(){var e=this.$createElement;return e("swiper-slide",[e("div",{class:"page-one"},[e("v-touch",{on:{tap:()=>{this.test=!this.test}},class:"test-box"},["Click To Test"]),this.startsDom(),this.countdownDom(),this.startTextDom(),e("v-touch",{class:["scene",this.active?"active":""],style:this.sceneStyle,on:{tap:()=>{this.doActive()}}},[this.snailDom(),e("div",{class:"ground"},[e("div",{class:"earth"},[e("div",{class:"map-wrapper"}),e("div",{class:"earth-shadow"})])])])])])}page2Dom(){var e=this.$createElement;return e("swiper-slide",[e("div",{class:"page-two"},[e("p",{class:"land-in",attrs:{"data-text":"Hi,李紫寒。".concat(this.splitSymbol,"今天是你的生日哦。送你一份电子礼物~").concat(this.splitSymbol)}})])])}page3Dom(){return(0,this.$createElement)("swiper-slide",["page3"])}render(){var e=arguments[0];return e("div",{attrs:{id:"app"}},[e("swiper",{ref:"mySwiper",attrs:{options:this.swiperOptions}},[this.page1Dom(),this.isBirthDay?[this.page2Dom(),this.page3Dom()]:null]),e("span",{directives:[{name:"show",value:this.isBirthDay&&(!this.mySwiper.isEnd||0==this.slideIndex)}],class:"swiper-tip"})])}};return(0,i.__decorate)([(0,n.Watch)("slideIndex")],e.prototype,"onSlideIndexChange",null),e=(0,i.__decorate)([(0,n.Component)({components:{Swiper:l.Swiper,SwiperSlide:l.SwiperSlide}})],e)})();t.default=c},ffb4:function(e,t,a){"use strict";a("b429"),a("f5df1"),a("1be0"),a("1643")}},[["ffb4","runtime","vendors"]]]);