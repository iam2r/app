(window.webpackJsonp=window.webpackJsonp||[]).push([["main-async"],{"14ec":function(e,t,s){},1537:function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("ddb0");var a=s("1da1"),i=s("2b0e"),n=(s("26e9"),s("1276"),s("498a"),s("9ab4")),o=s("60a3"),r=s("48d3"),l=s("cffa"),c=s("a5cf"),h=s("7212");s("a7a3"),s("14ec");l.a.ticker.lagSmoothing(0,null);var d,p=(d=class extends r.Component{constructor(){super(...arguments),this.splitSymbol="<br>",this.birthDate=+new Date("2020/9/19"),this.revolution=864e5,this.active=!1,this.sceneRotate=0,this.sceneScale=1,this.sceneTranslateY=7,this.isSceneAnimating=!1,this.countDown=0,this.test=!1,this.slideIndex=-1,this.swiperOptions={direction:"vertical",on:{slideChangeTransitionEnd:this.onSlideChangeTransitionEnd}}}get mySwiper(){return this.$refs.mySwiper.swiperInstance}get sceneStyle(){return{transform:"translate3d(-50%, ".concat(this.sceneTranslateY,"rem,0) rotateZ(").concat(this.sceneRotate,"deg) scale3d(").concat(this.sceneScale,",").concat(this.sceneScale,",1)")}}get isBirthDay(){return this.test}get formateMilliSecond(){var e=this.countDown,t=6e4,s=60*t,a=24*s,i=Math.floor(e/a),n=Math.floor((e-i*a)/s),o=Math.floor((e-i*a-n*s)/t),r=Math.floor((e-i*a-n*s-o*t)/1e3),l=e-i*a-n*s-o*t-1e3*r,c=l<10?"0"+l:""+l;return{day:i<10?"0"+i:""+i,hour:n<10?"0"+n:""+n,minute:o<10?"0"+o:""+o,second:r<10?"0"+r:""+r,milliSecond:c=l<100?"0"+c:""+c}}onSlideIndexChange(e){this.doLandInAnimation(1==e)}created(){}mounted(){this.slideIndex=0,this.initCountDown(),setTimeout(()=>{this.active||this.doActive()},2e3)}doLandInAnimation(e){var t=document.querySelectorAll(".land-in");e?t.forEach(e=>{e.style.opacity="1";var t=e.getAttribute("data-text").trim().split(this.splitSymbol);e.innerHTML="";var s=0;t.forEach(t=>{t.split("").forEach(t=>{var a=document.createElement("span");a.textContent=t,a.style.animationDelay="".concat(.05*s,"s"),e.append(a),s++}),e.append(document.createElement("br"))})}):t.forEach(e=>{e.style.opacity=""})}onSlideChangeTransitionEnd(){this.slideIndex=this.mySwiper.activeIndex}initCountDown(){this.countDown=this.birthDate-+new Date,clearInterval(this.countDownTimer),this.countDownTimer=setInterval(()=>{this.countDown=this.birthDate-+new Date,this.countDown<=0&&clearInterval(this.countDownTimer)},1e3)}doActive(){if(!this.isSceneAnimating){this.isSceneAnimating=!0,setTimeout(()=>{this.isSceneAnimating=!1},2e3);var e=new Date,t=+e-+new Date("".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()));if(this.active=!this.active,this.sceneRotate=this.active?t%this.revolution/this.revolution*-360:0,this.sceneScale=this.active?.09:1,this.sceneTranslateY=this.active?-30.2:7,this.active){if(this.snailRotateTween)return this.snailRotateTween.time(this.revolution/1e3).repeat(-1).restart();this.snailRotateTween=c.d.fromTo(".snail-box",this.revolution/1e3,{rotate:0},{ease:c.b.easeNone,rotate:-360,repeat:-1})}else this.snailRotateTween&&this.snailRotateTween.time(2).reverse()}}startsDom(){var e=this.$createElement;return e("div",{class:"stars"},[e("div",{class:"star"}),e("div",{class:"star pink"}),e("div",{class:"star blue"}),e("div",{class:"star yellow"})])}countdownDom(){var e=this.$createElement;return e("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0!=this.slideIndex||this.isBirthDay?null:e("div",{class:"clock clock-countdown"},[e("div",{class:"elem-center"},[e("div",{class:"digit"},[" ",e("span",{class:"days"},[this.formateMilliSecond.day])," ",e("span",{class:"txt"},["天"])," "])]),e("div",{class:"elem-bottom"},[e("div",{class:"deco"}),e("span",{class:"hours"},[this.formateMilliSecond.hour]),e("span",{class:"thin"},[" 小时"])," ",e("span",{class:"minutes"},[this.formateMilliSecond.minute]),e("span",{class:"thin"},[" 分钟"])," ",e("span",{class:"seconds"},[this.formateMilliSecond.second]),e("span",{class:"thin"},[" 秒"])," "])])])}startTextDom(){var e=this.$createElement;return e("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0==this.slideIndex&&this.isBirthDay?e("div",{class:"start-text"},[e("h1",{class:"title slide-bar"},["愿你贪吃不胖，愿你傻人傻福。"]),e("p",{class:"subtitle slide-bar"},["生日快乐！"])]):null])}snailDom(){var e=this.$createElement;return e("div",{class:"snail-box"},[e("div",{class:"snail-wrapper"},[e("div",{class:"snail"},[e("div",{class:"face"}),e("div",{class:"eyes left"}),e("div",{class:"eyes right"}),e("div",{class:"shell front"},[e("div",{class:"innershell"})]),e("div",{class:"shell behind"}),e("div",{class:"bottomchest"})])]),e("div",{class:"speed"},[e("span"),e("span"),e("span"),e("span")]),e("span"),e("span"),e("span"),e("span"),e("span"),e("span")])}page1Dom(){var e=this.$createElement;return e("swiper-slide",[e("div",{class:"page-one"},[e("v-touch",{on:{tap:()=>{this.test=!this.test}},class:"test-box"},["Click To Test"]),this.startsDom(),this.countdownDom(),this.startTextDom(),e("v-touch",{class:["scene",this.active?"active":""],style:this.sceneStyle,on:{tap:()=>{this.doActive()}}},[this.snailDom(),e("div",{class:"ground"},[e("div",{class:"earth"},[e("div",{class:"map-wrapper"}),e("div",{class:"earth-shadow"})])])])])])}page2Dom(){var e=this.$createElement;return e("swiper-slide",[e("div",{class:"page-two"},[e("p",{class:"land-in",attrs:{"data-text":"Hi,李紫寒。".concat(this.splitSymbol,"今天是你的生日哦。送你一份电子礼物~").concat(this.splitSymbol)}})])])}page3Dom(){return(0,this.$createElement)("swiper-slide",["page3"])}render(){var e=arguments[0];return e("div",{attrs:{id:"app"}},[e("swiper",{ref:"mySwiper",attrs:{options:this.swiperOptions}},[this.page1Dom(),this.isBirthDay?[this.page2Dom(),this.page3Dom()]:null]),e("span",{directives:[{name:"show",value:this.isBirthDay&&(!this.mySwiper.isEnd||0==this.slideIndex)}],class:"swiper-tip"})])}},Object(n.a)([Object(o.b)("slideIndex")],d.prototype,"onSlideIndexChange",null),d=Object(n.a)([Object(o.a)({components:{Swiper:h.Swiper,SwiperSlide:h.SwiperSlide}})],d)),m=i.default.prototype.$state=i.default.observable({appList:[],resources:[]}),u=s("ca95"),v={install:e=>{e.config.productionTip=!1,e.use(u,{name:"v-touch"})}},w={main:s("ae44").default},f=(s("fb6a"),s("25f0"),s("466d"),s("8af0"));i.default.use(v);var b=function(){var e=Object(a.a)((function*(){var e,t,a,i=[];Object.entries(w).map(e=>{var t,[s,a]=e;i.push((t=a,new Promise((e,s)=>{var a=new Image;a.onload=()=>{e(a)},a.onerror=()=>{s("load error:"+t)},a.src=t})))}),m.resources[0]=yield Promise.all(i),yield(e=s("0342"),t=["Lato"],a=[],t.forEach(t=>{var s=t.split(":"),i=s[0];(s[1]?s[1].split(","):["n4"]).forEach(t=>{var s=t.match(/^([nio])([1-9])$/i);if(s){var n="n"==s[1]?"normal":"i"==s[1]?"italic":"oblique",o=parseInt(s[2],10)+"00";a.push(new e(i,{style:n,weight:o}).load())}})}),Promise.all(a)),f.a.emit("loaded")}));return function(){return e.apply(this,arguments)}}();f.a.once("loaded",()=>{m.app=new i.default({render:e=>e(p)}).$mount("#app")}),b()},ae44:function(e,t,s){"use strict";s.r(t),t.default=s.p+"assets/images/main.353d51bf.png"}}]);