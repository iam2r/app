(window.webpackJsonp=window.webpackJsonp||[]).push([["main-async"],{"14ec":function(t,e,n){},1537:function(t,e,n){"use strict";n.r(e);n("4de4"),n("4160"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0");var a=n("3835"),i=(n("96cf"),n("1da1")),s=n("2b0e"),r=(n("99af"),n("4ae1"),n("25f0"),n("38cf"),n("d4ec")),o=n("bee2"),c=n("262e"),l=n("99de"),u=n("7e84"),p=n("9ab4"),h=n("60a3"),d=n("48d3"),f=n("cffa"),v=n("a5cf"),m=(n("a4d3"),n("a630"),n("d81d"),n("e439"),n("dbb4"),n("b64b"),n("ade3")),b=n("7212");n("1dec");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(m.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(t){Object(c.a)(n,t);var e=g(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"mounted",value:function(){var t=this;setTimeout((function(){t.updateScroll()}))}},{key:"onSetTranslate",value:function(t){return this.swiperInstance}},{key:"updateScroll",value:function(){this.options.loop&&(this.swiperInstance.loopDestroy(),this.swiperInstance.loopCreate()),this.swiperInstance.updateSlides(),this.swiperInstance.update()}},{key:"render",value:function(){var t=this,e=arguments[0];return e(b.Swiper,{ref:"mySwiper",on:{setTranslate:function(){t.onSetTranslate(t.swiperInstance.translate)}},attrs:{options:w({},this.options)}},[Array.from({length:this.length}).map((function(n,a){return e(b.SwiperSlide,[t.$scopedSlots.default(a)])}))])}},{key:"swiperInstance",get:function(){return this.mySwiper.$swiper}}]),n}(d.Component);Object(p.a)([Object(h.c)({default:function(){return{autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1},loop:!0,pagination:{el:".swiper-pagination",clickable:!0}}}})],O.prototype,"options",void 0),Object(p.a)([Object(h.c)({default:0})],O.prototype,"length",void 0),Object(p.a)([Object(h.d)()],O.prototype,"mySwiper",void 0),Object(p.a)([Object(h.b)("setTranslate")],O.prototype,"onSetTranslate",null);var S=O=Object(p.a)([h.a],O),j=(n("ac1f"),n("1276"),n("498a"),function(){function t(e,n){Object(r.a)(this,t),this.splitSymbol="<br>",this.items=[],this.$el="string"==typeof e?document.querySelector(e):e,n.splitSymbol&&(this.splitSymbol=n.splitSymbol),this.text=n.content,this.init()}return Object(o.a)(t,[{key:"init",value:function(){var t=this,e=0;this.text.trim().split(this.splitSymbol).forEach((function(n){n.split("").forEach((function(n){var a=document.createElement("span");a.textContent=n,a.classList.add("land-in-animation"),a.style.animationDelay="".concat(.05*e,"s"),t.items.push(a),e++})),t.items.push(document.createElement("br"))}))}},{key:"start",value:function(){var t=this;this.hide(),this.items.forEach((function(e){"BR"!=e.nodeName&&e.classList.add("land-in-animation"),t.$el.appendChild(e)}))}},{key:"hide",value:function(){this.$el.innerHTML=""}},{key:"skip",value:function(){this.items.forEach((function(t){t.classList.remove("land-in-animation")}))}},{key:"destory",value:function(){this.$el=null,this.items=[]}}]),t}());n("14ec");function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(l.a)(this,n)}}f.a.ticker.lagSmoothing(0,null);var k=function(t){Object(c.a)(n,t);var e=D(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).birthDate=+new Date("2020/9/19"),t.revolution=864e5,t.active=!1,t.sceneRotate=0,t.sceneScale=1,t.sceneTranslateY=7,t.isSceneAnimating=!1,t.countDown=0,t.test=!1,t.slideIndex=-1,t.showTips=!1,t.swiperOptions={direction:"vertical",on:{slideChangeTransitionEnd:t.onSlideChangeTransitionEnd}},t}return Object(o.a)(n,[{key:"onSlideIndexChange",value:function(t){1==t?(this.lanInItem=this.initLanInItem(),this.lanInItem.start()):this.lanInItem&&this.lanInItem.hide()}},{key:"onArrowTipsStatusChange",value:function(){var t=this;this.$nextTick((function(){t.showTips=!t.mySwiper.swiperInstance.isEnd}))}},{key:"mounted",value:function(){var t=this;this.slideIndex=0,this.initCountDown(),setTimeout((function(){t.active||t.doActive()}),2e3)}},{key:"initLanInItem",value:function(){return this.lanInItem&&this.lanInItem.destory(),new j(this.$el.querySelector(".land-in-p"),{content:"Hi,XXX。<br>寒窗苦参凡尘坎坷，<br>春秋却忘夏衾冬葛。<br>世间冷暖与思念如何物？<br>与你我如何物？<br>盼泪眼望穿天地，<br>求知己如若斯人。<br>长途漫漫，<br>乞相伴而行。<br>诞辰快乐。"})}},{key:"onSlideChangeTransitionEnd",value:function(){this.slideIndex=this.mySwiper.swiperInstance.activeIndex}},{key:"initCountDown",value:function(){var t=this;this.countDown=this.birthDate-+new Date,clearInterval(this.countDownTimer),this.countDownTimer=setInterval((function(){t.countDown=t.birthDate-+new Date,t.countDown<=0&&clearInterval(t.countDownTimer)}),1e3)}},{key:"doActive",value:function(){var t=this;if(!this.isSceneAnimating){this.isSceneAnimating=!0,setTimeout((function(){t.isSceneAnimating=!1}),2e3);var e=new Date,n=+e-+new Date("".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()));if(this.active=!this.active,this.sceneRotate=this.active?n%this.revolution/this.revolution*-360:0,this.sceneScale=this.active?.09:1,this.sceneTranslateY=this.active?-30.2:7,this.active){if(this.snailRotateTween)return this.snailRotateTween.time(this.revolution/1e3).repeat(-1).restart();this.snailRotateTween=v.d.fromTo(".snail-box",this.revolution/1e3,{rotate:0},{ease:v.b.easeNone,rotate:-360,repeat:-1})}else this.snailRotateTween&&this.snailRotateTween.time(2).reverse()}}},{key:"startsDom",value:function(){var t=this.$createElement;return t("div",{class:"stars"},[t("div",{class:"star"}),t("div",{class:"star pink"}),t("div",{class:"star blue"}),t("div",{class:"star yellow"})])}},{key:"countdownDom",value:function(){var t=this.$createElement;return t("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0!=this.slideIndex||this.isBirthDay?null:t("div",{class:"clock clock-countdown"},[t("div",{class:"elem-center"},[t("div",{class:"digit"},[t("span",{class:"days"},[this.formateMilliSecond.day]),t("span",{class:"txt"},["天"])])]),t("div",{class:"elem-bottom"},[t("div",{class:"deco"}),t("span",{class:"hours"},[this.formateMilliSecond.hour]),t("span",{class:"thin"},[" 小时"]),t("span",{class:"minutes"},[this.formateMilliSecond.minute]),t("span",{class:"thin"},[" 分钟"]),t("span",{class:"seconds"},[this.formateMilliSecond.second]),t("span",{class:"thin"},[" 秒"])])])])}},{key:"startTextDom",value:function(){var t=this.$createElement;return t("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0==this.slideIndex&&this.isBirthDay?t("div",{class:"start-text"},[t("h1",{class:"title slide-bar"},["愿你贪吃不胖，愿你傻人傻福。"]),t("p",{class:"subtitle slide-bar"},["生日快乐！"])]):null])}},{key:"snailDom",value:function(){var t=this.$createElement;return t("div",{class:"snail-box"},[t("div",{class:"snail-wrapper"},[t("div",{class:"snail"},[t("div",{class:"face"}),t("div",{class:"eyes left"}),t("div",{class:"eyes right"}),t("div",{class:"shell front"},[t("div",{class:"innershell"})]),t("div",{class:"shell behind"}),t("div",{class:"bottomchest"})])]),t("div",{class:"speed"},[t("span"),t("span"),t("span"),t("span")]),t("span"),t("span"),t("span"),t("span"),t("span"),t("span")])}},{key:"page1Dom",value:function(){var t=this,e=this.$createElement;return e("div",{class:"page-one"},[e("v-touch",{on:{tap:function(){t.test=!t.test}},class:"test-box"},["Click To Test"]),this.startsDom(),this.countdownDom(),this.startTextDom(),e("v-touch",{class:["scene",this.active?"active":""],style:this.sceneStyle,on:{tap:function(){t.doActive()}}},[this.snailDom(),e("div",{class:"ground"},[e("div",{class:"earth"},[e("div",{class:"map-wrapper"}),e("div",{class:"earth-shadow"})])])])])}},{key:"page2Dom",value:function(){var t=this,e=this.$createElement;return e("div",{class:"page-two"},[e("p",{class:"land-in-p",on:{click:function(){t.lanInItem&&t.lanInItem.skip()}}})])}},{key:"page3Dom",value:function(){return(0,this.$createElement)("div",{class:"page-three"},["page3"])}},{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{attrs:{id:"app"}},[e(S,{ref:"mySwiper",attrs:{options:this.swiperOptions,length:this.isBirthDay?3:1},scopedSlots:{default:function(e){return[t.page1Dom(),t.page2Dom(),t.page3Dom()][e]}}}),e("span",{directives:[{name:"show",value:this.showTips}],class:"swiper-tip"})])}},{key:"sceneStyle",get:function(){return{transform:"translate3d(-50%, ".concat(this.sceneTranslateY,"rem,0) rotateZ(").concat(this.sceneRotate,"deg) scale3d(").concat(this.sceneScale,",").concat(this.sceneScale,",1)")}}},{key:"isBirthDay",get:function(){return this.test}},{key:"formateMilliSecond",get:function(){var t=this.countDown,e=6e4,n=60*e,a=24*n,i=Math.floor(t/a),s=Math.floor((t-i*a)/n),r=Math.floor((t-i*a-s*n)/e),o=Math.floor((t-i*a-s*n-r*e)/1e3),c=t-i*a-s*n-r*e-1e3*o,l=c<10?"0"+c:""+c;return{day:i<10?"0"+i:""+i,hour:s<10?"0"+s:""+s,minute:r<10?"0"+r:""+r,second:o<10?"0"+o:""+o,milliSecond:l=c<100?"0"+l:""+l}}}]),n}(d.Component);Object(p.a)([Object(h.d)()],k.prototype,"mySwiper",void 0),Object(p.a)([Object(h.e)("slideIndex")],k.prototype,"onSlideIndexChange",null),Object(p.a)([Object(h.e)("slideIndex"),Object(h.e)("isBirthDay")],k.prototype,"onArrowTipsStatusChange",null);var I=k=Object(p.a)([h.a],k),T=s.default.prototype.$state=s.default.observable({appList:[],resources:[]}),x=(n("caad"),n("fb6a"),n("2532"),n("466d"),n("2b3d"),n("53ca"),function(t){return new Promise((function(e,n){var a=new XMLHttpRequest;a.open("GET",t),a.send(),a.onreadystatechange=function(){4==a.readyState&&200==a.status&&e(JSON.parse(a.response))}}))}),R=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,a){if(e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onreadystatechange=function(){4==i.readyState&&200==i.status&&n(URL.createObjectURL(i.response))},i.send()}else{var s=new Image;s.onload=function(){n(s)},s.onerror=function(){a("load error:"+t)},s.src=t}}))},E=function(t,e){var n=[];return e.forEach((function(e){var a=e.split(":"),i=a[0];(a[1]?a[1].split(","):["n4"]).forEach((function(e){var a=e.match(/^([nio])([1-9])$/i);if(a){var s="n"==a[1]?"normal":"i"==a[1]?"italic":"oblique",r=parseInt(a[2],10)+"00";n.push(new t(i,{style:s,weight:r}).load())}}))})),Promise.all(n)},$=n("8af0"),C=n("ca95");s.default.config.productionTip=!1,s.default.use(C,{name:"v-touch"});var P=function(){var t=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.length)){t.next=9;break}return a=e[n],t.next=5,R(a.url,!0);case 5:a.blob=t.sent;case 6:n++,t.next=1;break;case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(i.a)(regeneratorRuntime.mark((function t(){var e,i,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("../apps.json?"+ +new Date);case 2:return e=t.sent,t.next=5,Promise.all([P(e.resources.birthday.filter((function(t){return t.type="images"}))),E(n("0342"),["Lato"])]);case 5:i=t.sent,s=Object(a.a)(i,1),r=s[0],$.a.emit("loaded",r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();$.a.once("loaded",(function(t){t.forEach((function(t){!function(t,e){Array.from(document.styleSheets).forEach((function(n){Array.from(n.rules).filter((function(e){return e.cssText.includes(t)})).forEach((function(t){return t.style.backgroundImage="url(".concat(e,")")}))}))}(t.url,t.blob)})),T.app=new s.default({render:function(t){return t(I)}}).$mount("#app")})),L()},"1dec":function(t,e,n){}}]);