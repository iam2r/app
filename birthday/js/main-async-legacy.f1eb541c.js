(window.webpackJsonp=window.webpackJsonp||[]).push([["main-async"],{"14ec":function(t,e,n){},1537:function(t,e,n){"use strict";n.r(e);n("d81d"),n("4fad"),n("d3b7"),n("3ca3"),n("ddb0");var i=n("3835"),s=(n("96cf"),n("1da1")),a=n("2b0e"),r=(n("99af"),n("4ae1"),n("25f0"),n("38cf"),n("d4ec")),c=n("bee2"),o=n("262e"),l=n("99de"),u=n("7e84"),h=n("9ab4"),d=n("60a3"),p=n("48d3"),f=n("cffa"),v=n("a5cf"),m=n("7212"),b=(n("4160"),n("ac1f"),n("1276"),n("498a"),n("159b"),function(){function t(e,n){Object(r.a)(this,t),this.splitSymbol="<br>",this.items=[],this.$el="string"==typeof e?document.querySelector(e):e,n.splitSymbol&&(this.splitSymbol=n.splitSymbol),this.text=n.content,this.init()}return Object(c.a)(t,[{key:"init",value:function(){var t=this,e=0;this.text.trim().split(this.splitSymbol).forEach((function(n){n.split("").forEach((function(n){var i=document.createElement("span");i.textContent=n,i.classList.add("land-in-animation"),i.style.animationDelay="".concat(.05*e,"s"),t.items.push(i),e++})),t.items.push(document.createElement("br"))}))}},{key:"start",value:function(){var t=this;this.hide(),this.items.forEach((function(e){"BR"!=e.nodeName&&e.classList.add("land-in-animation"),t.$el.appendChild(e)}))}},{key:"hide",value:function(){this.$el.innerHTML=""}},{key:"skip",value:function(){this.items.forEach((function(t){t.classList.remove("land-in-animation")}))}},{key:"destory",value:function(){this.$el=null,this.items=[]}}]),t}());n("14ec");function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Object(u.a)(t);if(e){var s=Object(u.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}f.a.ticker.lagSmoothing(0,null);var w,D=(w=function(t){Object(o.a)(n,t);var e=y(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).birthDate=+new Date("2020/9/19"),t.revolution=864e5,t.active=!1,t.sceneRotate=0,t.sceneScale=1,t.sceneTranslateY=7,t.isSceneAnimating=!1,t.countDown=0,t.test=!1,t.slideIndex=-1,t.swiperOptions={direction:"vertical",on:{slideChangeTransitionEnd:t.onSlideChangeTransitionEnd}},t}return Object(c.a)(n,[{key:"onSlideIndexChange",value:function(t){1==t?(this.lanInItem=this.initLanInItem(),this.lanInItem.start()):this.lanInItem&&this.lanInItem.hide()}},{key:"created",value:function(){}},{key:"mounted",value:function(){var t=this;this.slideIndex=0,this.initCountDown(),setTimeout((function(){t.active||t.doActive()}),2e3)}},{key:"initLanInItem",value:function(){return this.lanInItem&&this.lanInItem.destory(),new b(this.$el.querySelector(".land-in-p"),{content:"Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>Hi,XXX。<br>今天是你的生日哦。送你一份电子礼物~<br>"})}},{key:"onSlideChangeTransitionEnd",value:function(){this.slideIndex=this.mySwiper.activeIndex}},{key:"initCountDown",value:function(){var t=this;this.countDown=this.birthDate-+new Date,clearInterval(this.countDownTimer),this.countDownTimer=setInterval((function(){t.countDown=t.birthDate-+new Date,t.countDown<=0&&clearInterval(t.countDownTimer)}),1e3)}},{key:"doActive",value:function(){var t=this;if(!this.isSceneAnimating){this.isSceneAnimating=!0,setTimeout((function(){t.isSceneAnimating=!1}),2e3);var e=new Date,n=+e-+new Date("".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()));if(this.active=!this.active,this.sceneRotate=this.active?n%this.revolution/this.revolution*-360:0,this.sceneScale=this.active?.09:1,this.sceneTranslateY=this.active?-30.2:7,this.active){if(this.snailRotateTween)return this.snailRotateTween.time(this.revolution/1e3).repeat(-1).restart();this.snailRotateTween=v.d.fromTo(".snail-box",this.revolution/1e3,{rotate:0},{ease:v.b.easeNone,rotate:-360,repeat:-1})}else this.snailRotateTween&&this.snailRotateTween.time(2).reverse()}}},{key:"startsDom",value:function(){var t=this.$createElement;return t("div",{class:"stars"},[t("div",{class:"star"}),t("div",{class:"star pink"}),t("div",{class:"star blue"}),t("div",{class:"star yellow"})])}},{key:"countdownDom",value:function(){var t=this.$createElement;return t("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0!=this.slideIndex||this.isBirthDay?null:t("div",{class:"clock clock-countdown"},[t("div",{class:"elem-center"},[t("div",{class:"digit"},[t("span",{class:"days"},[this.formateMilliSecond.day]),t("span",{class:"txt"},["天"])])]),t("div",{class:"elem-bottom"},[t("div",{class:"deco"}),t("span",{class:"hours"},[this.formateMilliSecond.hour]),t("span",{class:"thin"},[" 小时"]),t("span",{class:"minutes"},[this.formateMilliSecond.minute]),t("span",{class:"thin"},[" 分钟"]),t("span",{class:"seconds"},[this.formateMilliSecond.second]),t("span",{class:"thin"},[" 秒"])])])])}},{key:"startTextDom",value:function(){var t=this.$createElement;return t("transition",{attrs:{"enter-active-class":"animated jello","leave-active-class":"animated fast bounceOut"}},[0==this.slideIndex&&this.isBirthDay?t("div",{class:"start-text"},[t("h1",{class:"title slide-bar"},["愿你贪吃不胖，愿你傻人傻福。"]),t("p",{class:"subtitle slide-bar"},["生日快乐！"])]):null])}},{key:"snailDom",value:function(){var t=this.$createElement;return t("div",{class:"snail-box"},[t("div",{class:"snail-wrapper"},[t("div",{class:"snail"},[t("div",{class:"face"}),t("div",{class:"eyes left"}),t("div",{class:"eyes right"}),t("div",{class:"shell front"},[t("div",{class:"innershell"})]),t("div",{class:"shell behind"}),t("div",{class:"bottomchest"})])]),t("div",{class:"speed"},[t("span"),t("span"),t("span"),t("span")]),t("span"),t("span"),t("span"),t("span"),t("span"),t("span")])}},{key:"page1Dom",value:function(){var t=this,e=this.$createElement;return e("swiper-slide",[e("div",{class:"page-one"},[e("v-touch",{on:{tap:function(){t.test=!t.test}},class:"test-box"},["Click To Test"]),this.startsDom(),this.countdownDom(),this.startTextDom(),e("v-touch",{class:["scene",this.active?"active":""],style:this.sceneStyle,on:{tap:function(){t.doActive()}}},[this.snailDom(),e("div",{class:"ground"},[e("div",{class:"earth"},[e("div",{class:"map-wrapper"}),e("div",{class:"earth-shadow"})])])])])])}},{key:"page2Dom",value:function(){var t=this,e=this.$createElement;return e("swiper-slide",[e("div",{class:"page-two"},[e("p",{class:"land-in-p",on:{click:function(){t.lanInItem&&t.lanInItem.skip()}}})])])}},{key:"page3Dom",value:function(){return(0,this.$createElement)("swiper-slide",["page3"])}},{key:"render",value:function(){var t=arguments[0];return t("div",{attrs:{id:"app"}},[t("swiper",{ref:"mySwiper",attrs:{options:this.swiperOptions}},[this.page1Dom(),this.isBirthDay?[this.page2Dom(),this.page3Dom()]:null]),t("span",{directives:[{name:"show",value:this.isBirthDay&&(!this.mySwiper.isEnd||0==this.slideIndex)}],class:"swiper-tip"})])}},{key:"mySwiper",get:function(){return this.$refs.mySwiper.swiperInstance}},{key:"sceneStyle",get:function(){return{transform:"translate3d(-50%, ".concat(this.sceneTranslateY,"rem,0) rotateZ(").concat(this.sceneRotate,"deg) scale3d(").concat(this.sceneScale,",").concat(this.sceneScale,",1)")}}},{key:"isBirthDay",get:function(){return this.test}},{key:"formateMilliSecond",get:function(){var t=this.countDown,e=6e4,n=60*e,i=24*n,s=Math.floor(t/i),a=Math.floor((t-s*i)/n),r=Math.floor((t-s*i-a*n)/e),c=Math.floor((t-s*i-a*n-r*e)/1e3),o=t-s*i-a*n-r*e-1e3*c,l=o<10?"0"+o:""+o;return{day:s<10?"0"+s:""+s,hour:a<10?"0"+a:""+a,minute:r<10?"0"+r:""+r,second:c<10?"0"+c:""+c,milliSecond:l=o<100?"0"+l:""+l}}}]),n}(p.Component),Object(h.a)([Object(d.b)("slideIndex")],w.prototype,"onSlideIndexChange",null),w=Object(h.a)([Object(d.a)({components:{Swiper:m.Swiper,SwiperSlide:m.SwiperSlide}})],w)),g=a.default.prototype.$state=a.default.observable({appList:[],resources:[]}),S=n("ca95"),I={install:function(t){t.config.productionTip=!1,t.use(S,{name:"v-touch"})}},k={main:n("ae44").default},X=(n("fb6a"),n("466d"),n("53ca"),function(t,e){var n=[];return e.forEach((function(e){var i=e.split(":"),s=i[0];(i[1]?i[1].split(","):["n4"]).forEach((function(e){var i=e.match(/^([nio])([1-9])$/i);if(i){var a="n"==i[1]?"normal":"i"==i[1]?"italic":"oblique",r=parseInt(i[2],10)+"00";n.push(new t(s,{style:a,weight:r}).load())}}))})),Promise.all(n)}),x=n("8af0");a.default.use(I);var T=function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],Object.entries(k).map((function(t){var n,s=Object(i.a)(t,2),a=(s[0],s[1]);e.push((n=a,new Promise((function(t,e){var i=new Image;i.onload=function(){t(i)},i.onerror=function(){e("load error:"+n)},i.src=n}))))})),t.next=4,Promise.all(e);case 4:return g.resources[0]=t.sent,t.next=7,X(n("0342"),["Lato"]);case 7:x.a.emit("loaded");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();x.a.once("loaded",(function(){g.app=new a.default({render:function(t){return t(D)}}).$mount("#app")})),T()},ae44:function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/images/main.7d9ec487.png"}}]);