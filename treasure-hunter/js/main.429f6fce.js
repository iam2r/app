(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{"02c2":function(t,e,i){},1695:function(t,e,i){t.exports=i.p+"assets/sprites/bg.sprites.91339155.json"},1733:function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"c",(function(){return h})),i.d(e,"e",(function(){return d})),i.d(e,"a",(function(){return n}));var s=i("faa1"),r=(i("c975"),i("4d63"),i("25f0"),i("466d"),i("5319"),i("1276"),i("fd0b"));class o{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.width=t,this.height=e}get center(){return{x:this.width/2,y:this.height/2}}get ratio(){return this.width/this.height}}var n={size:{width:800,height:600}};var a=new s.EventEmitter,h=new class{constructor(){this.phone={iphonex:!1,iphonexr:!1,iphonexsmax:!1},this.browser={chrome:!1,safari:!1,firefox:!1,ie:!1,edge:!1,opera:!1,qq:!1,360:!1},this.mobile={device:!1,ios:!1,andriod:!1,tablet:!1},this.mobile=this.initMobileData(),this.version=this.getVersion(),this.webkit=this.iosWKWebView(),this.notchScreen=this.isNotchScreen(),this.browser=this.initBrowserData()}initMobileData(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,i=!!/iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()),s=/(?:iPad|PlayBook)/.test(t)||e&&!/(?:Mobile)/.test(t)||/(?:Firefox)/.test(t)&&/(?:Tablet)/.test(t);return{ios:i,andriod:e,tablet:s,device:e||i||s}}getVersion(){return(navigator.userAgent.toLocaleLowerCase().match(/os [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}iosWKWebView(){return this.mobile.ios&&-1==navigator.userAgent.indexOf("Safari")}isNotchScreen(){var t=this.mobile.ios,e=screen.width,i=screen.height;return this.phone.iphonex=t&&375==e&&812==i&&3==devicePixelRatio,this.phone.iphonexr=t&&414==e&&896==i&&2==devicePixelRatio,this.phone.iphonexsmax=t&&414==e&&896==i&&3==devicePixelRatio,this.phone.iphonex||this.phone.iphonexr||this.phone.iphonexsmax}initBrowserData(){var t=navigator.userAgent;return{chrome:t.indexOf("Chrome")>-1&&t.indexOf("Safari")>-1,safari:t.indexOf("Safari")>-1&&-1==t.indexOf("Chrome")&&void 0===window.external,firefox:t.indexOf("Firefox")>-1,ie:!!window.ActiveXObject||"ActiveXObject"in window,edge:t.indexOf("Edge")>-1,opera:t.indexOf("Opera")>-1,qq:t.indexOf("qqbrowse")>-1,360:((t,e)=>{var i=navigator.mimeTypes;for(var s in i)if("application/vnd.chromium.remoting-viewer"==i[s].type)return!0;return!1})()}}get osName(){var t="Unknow",e="",i=[],s=navigator.userAgent,r=navigator.appVersion,o=navigator.platform;return this.mobile.andriod&&(e=(i=/android (\d+(?:\.\d+)+)/i.exec(s)||/android (\d+(?:\.\d+)+)/i.exec(o))?i[1]:""),this.mobile.ios&&(e=(i=/(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(s))?i[2]:""),this.getWinOSName()?t=this.getWinOSName():this.mobile.ios?t="iOS_"+e:-1!==r.indexOf("Mac")?t="OS X_":-1!==r.indexOf("X11")&&-1===r.indexOf("Linux")?t="OS X":this.mobile.andriod?t="Android_"+e:-1!==r.indexOf("Linux")&&(t="Linux"),t}getWinOSName(){if(-1!=navigator.appVersion.indexOf("Win")&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(navigator.userAgent)&&"NT"==RegExp.$1)switch(RegExp.$2){case"5.1":return"WindowsXP";case"6.0":return"WindowsVista";case"6.1":return"Windows7";case"6.2":return"Windows8";case"10.0":return"Windows10";default:return"NT"}return""}get screenState(){var t=r.b.WEB;(t=this.mobile.device?90==window.orientation||-90==window.orientation?r.b.LANDSCAPE:r.b.PORTRAIT:window.innerWidth>1100?r.b.WEB:window.innerWidth/window.innerHeight<.73?r.b.PORTRAIT:r.b.LANDSCAPE,this.mobile.ios&&parseInt(this.version.split(".")[0])<9)&&(t=document.documentElement.clientWidth>document.documentElement.clientHeight?r.b.LANDSCAPE:r.b.PORTRAIT);return this.mobile.tablet&&(t=r.b.LANDSCAPE),t}},d=new class{constructor(){this.scale=1;var t=n.size;this.size=new o(t.width,t.height),window.addEventListener("resize",()=>this.onResize()),window.addEventListener("orientationchange",()=>this.onResize()),a.once(r.a.GAME_ENTER,()=>{this.onResize(),a.emit(r.a.STATE_CHANGE,this.state)}),this.onResize()}onResize(){this.doState(),this.doResize()}doState(){var t=h.screenState;if(t!==this.state){var e=this.state;this.state=t,this.size=this.isPortrait?new o(n.size.height,n.size.width):new o(n.size.width,n.size.height),document.querySelector("body").setAttribute("data-screen",this.state),a.emit(r.a.STATE_CHANGE,this.state,e)}}doResize(){var t=new o(innerWidth,innerHeight),e=this.size,i=t.ratio>e.ratio?t.height/e.height:t.width/e.width,s=new o(e.width*i,e.height*i);this.scale=i,this.renderSize=s,a.emit(r.a.RESIZE,i,this.renderSize)}get isPortrait(){return this.state===r.b.PORTRAIT}get isLandscape(){return this.state===r.b.LANDSCAPE}};e.b={app:void 0,appVue:void 0,scence:void 0,resource:void 0,emitter:a,device:h,resolution:d,config:n}},"21e6":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));i("e260"),i("ddb0");class s{constructor(){if(void 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t))throw new Error("Please assign a rendering engine in the constructor before using bump.js");this.renderer="pixi"}addCollisionProperties(t){"pixi"===this.renderer&&(void 0===t.gx&&Object.defineProperty(t,"gx",{get:()=>t.getGlobalPosition().x,enumerable:!0,configurable:!0}),void 0===t.gy&&Object.defineProperty(t,"gy",{get:()=>t.getGlobalPosition().y,enumerable:!0,configurable:!0}),void 0===t.centerX&&Object.defineProperty(t,"centerX",{get:()=>t.x+t.width/2,enumerable:!0,configurable:!0}),void 0===t.centerY&&Object.defineProperty(t,"centerY",{get:()=>t.y+t.height/2,enumerable:!0,configurable:!0}),void 0===t.halfWidth&&Object.defineProperty(t,"halfWidth",{get:()=>t.width/2,enumerable:!0,configurable:!0}),void 0===t.halfHeight&&Object.defineProperty(t,"halfHeight",{get:()=>t.height/2,enumerable:!0,configurable:!0}),void 0===t.xAnchorOffset&&Object.defineProperty(t,"xAnchorOffset",{get:()=>void 0!==t.anchor?t.width*t.anchor.x:0,enumerable:!0,configurable:!0}),void 0===t.yAnchorOffset&&Object.defineProperty(t,"yAnchorOffset",{get:()=>void 0!==t.anchor?t.height*t.anchor.y:0,enumerable:!0,configurable:!0}),t.circular&&void 0===t.radius&&Object.defineProperty(t,"radius",{get:()=>t.width/2,enumerable:!0,configurable:!0})),t._bumpPropertiesAdded=!0}hitTestPoint(t,e){var i,s,r,o,n,a;if(e._bumpPropertiesAdded||this.addCollisionProperties(e),"rectangle"===(i=e.radius?"circle":"rectangle")&&(s=e.x-e.xAnchorOffset,r=e.x+e.width-e.xAnchorOffset,o=e.y-e.yAnchorOffset,n=e.y+e.height-e.yAnchorOffset,a=t.x>s&&t.x<r&&t.y>o&&t.y<n),"circle"===i){var h=t.x-e.x-e.width/2+e.xAnchorOffset,d=t.y-e.y-e.height/2+e.yAnchorOffset;a=Math.sqrt(h*h+d*d)<e.radius}return a}hitTestCircle(t,e){var i,s,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e),r?(i=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),s=e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(i=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),s=e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),Math.sqrt(i*i+s*s)<t.radius+e.radius}circleCollision(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var r,o,n,a,h,d,c,f={},l=!1;if(s?(a=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),h=e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(a=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),h=e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),(r=Math.sqrt(a*a+h*h))<(o=t.radius+e.radius)){l=!0,n=o-r;n+=.3,d=a/r,c=h/r,t.x-=n*d,t.y-=n*c,i&&(f.x=h,f.y=-a,this.bounceOffSurface(t,f))}return l}movingCircleCollision(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var s,r,o,n,a={},h={},d={},c={},f={},l=!1;if(t.mass=t.mass||1,e.mass=e.mass||1,i?(a.vx=e.gx+e.radius-e.xAnchorOffset-(t.gx+t.radius-t.xAnchorOffset),a.vy=e.gy+e.radius-e.yAnchorOffset-(t.gy+t.radius-t.yAnchorOffset)):(a.vx=e.x+e.radius-e.xAnchorOffset-(t.x+t.radius-t.xAnchorOffset),a.vy=e.y+e.radius-e.yAnchorOffset-(t.y+t.radius-t.yAnchorOffset)),a.magnitude=Math.sqrt(a.vx*a.vx+a.vy*a.vy),s=t.radius+e.radius,a.magnitude<s){l=!0,r=s-a.magnitude,r+=.3,a.dx=a.vx/a.magnitude,a.dy=a.vy/a.magnitude,a.vxHalf=Math.abs(a.dx*r/2),a.vyHalf=Math.abs(a.dy*r/2),o=t.x>e.x?1:-1,n=t.y>e.y?1:-1,t.x=t.x+a.vxHalf*o,t.y=t.y+a.vyHalf*n,e.x=e.x+a.vxHalf*-o,e.y=e.y+a.vyHalf*-n,a.lx=a.vy,a.ly=-a.vx;var u=t.vx*a.dx+t.vy*a.dy;h.x=u*a.dx,h.y=u*a.dy;var p=t.vx*(a.lx/a.magnitude)+t.vy*(a.ly/a.magnitude);d.x=p*(a.lx/a.magnitude),d.y=p*(a.ly/a.magnitude);var g=e.vx*a.dx+e.vy*a.dy;c.x=g*a.dx,c.y=g*a.dy;var x=e.vx*(a.lx/a.magnitude)+e.vy*(a.ly/a.magnitude);f.x=x*(a.lx/a.magnitude),f.y=x*(a.ly/a.magnitude),t.bounce={},t.bounce.x=d.x+c.x,t.bounce.y=d.y+c.y,e.bounce={},e.bounce.x=h.x+f.x,e.bounce.y=h.y+f.y,t.vx=t.bounce.x/t.mass,t.vy=t.bounce.y/t.mass,e.vx=e.bounce.x/e.mass,e.vy=e.bounce.y/e.mass}return l}multipleCircleCollision(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=0;i<t.length;i++)for(var s=t[i],r=i+1;r<t.length;r++){var o=t[r];this.movingCircleCollision(s,o,e)}}rectangleCollision(t,e){var i,s,r,o,n,a,h,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e),c?(a=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),h=t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(a=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),h=t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),s=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),r=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(a)<s&&Math.abs(h)<r&&((o=s-Math.abs(a))>=(n=r-Math.abs(h))?(h>0?(i="top",t.y=t.y+n):(i="bottom",t.y=t.y-n),d&&(t.vy*=-1)):(a>0?(i="left",t.x=t.x+o):(i="right",t.x=t.x-o),d&&(t.vx*=-1))),i}hitTestRectangle(t,e){var i,s,r,o,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e),!1,n?(r=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),o=t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(r=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),o=t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),i=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),s=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(r)<i&&Math.abs(o)<s}hitTestCircleRectangle(t,e){var i,s,r,o,n,a,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t),h?(r=t.gx,o=t.gy,n=e.gx,a=e.gy):(r=t.x,o=t.y,n=e.x,a=e.y),"topMiddle"===(i=o-t.yAnchorOffset<a-Math.abs(e.halfHeight)-e.yAnchorOffset?r-t.xAnchorOffset<n-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":r-t.xAnchorOffset>n+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":o-t.yAnchorOffset>a+Math.abs(e.halfHeight)-e.yAnchorOffset?r-t.xAnchorOffset<n-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":r-t.xAnchorOffset>n+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":r-t.xAnchorOffset<n-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===i||"leftMiddle"===i||"rightMiddle"===i)s=this.hitTestRectangle(t,e,h);else{var d={};switch(i){case"topLeft":d.x=n-e.xAnchorOffset,d.y=a-e.yAnchorOffset;break;case"topRight":d.x=n+e.width-e.xAnchorOffset,d.y=a-e.yAnchorOffset;break;case"bottomLeft":d.x=n-e.xAnchorOffset,d.y=a+e.height-e.yAnchorOffset;break;case"bottomRight":d.x=n+e.width-e.xAnchorOffset,d.y=a+e.height-e.yAnchorOffset}s=this.hitTestCirclePoint(t,d,h)}return s?i:s}hitTestCirclePoint(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.hitTestCircle(t,e,i)}circleRectangleCollision(t,e){var i,s,r,o,n,a,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t),d?(r=t.gx,o=t.gy,n=e.gx,a=e.gy):(r=t.x,o=t.y,n=e.x,a=e.y),"topMiddle"===(i=o-t.yAnchorOffset<a-Math.abs(e.halfHeight)-e.yAnchorOffset?r-t.xAnchorOffset<n-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":r-t.xAnchorOffset>n+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":o-t.yAnchorOffset>a+Math.abs(e.halfHeight)-e.yAnchorOffset?r-t.xAnchorOffset<n-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":r-t.xAnchorOffset>n+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":r-t.xAnchorOffset<n-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===i||"leftMiddle"===i||"rightMiddle"===i)s=this.rectangleCollision(t,e,h,d);else{var c={};switch(i){case"topLeft":c.x=n-e.xAnchorOffset,c.y=a-e.yAnchorOffset;break;case"topRight":c.x=n+e.width-e.xAnchorOffset,c.y=a-e.yAnchorOffset;break;case"bottomLeft":c.x=n-e.xAnchorOffset,c.y=a+e.height-e.yAnchorOffset;break;case"bottomRight":c.x=n+e.width-e.xAnchorOffset,c.y=a+e.height-e.yAnchorOffset}s=this.circlePointCollision(t,c,h,d)}return s?i:s}circlePointCollision(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.circleCollision(t,e,i,s)}bounceOffSurface(t,e){t._bumpPropertiesAdded||this.addCollisionProperties(t);var i,s,r={},o={},n={},a=t.mass||1;e.lx=e.y,e.ly=-e.x,e.magnitude=Math.sqrt(e.x*e.x+e.y*e.y),e.dx=e.x/e.magnitude,e.dy=e.y/e.magnitude,i=t.vx*e.dx+t.vy*e.dy,r.vx=i*e.dx,r.vy=i*e.dy,s=t.vx*(e.lx/e.magnitude)+t.vy*(e.ly/e.magnitude),o.vx=s*(e.lx/e.magnitude),o.vy=s*(e.ly/e.magnitude),o.vx*=-1,o.vy*=-1,n.x=r.vx+o.vx,n.y=r.vy+o.vy,t.vx=n.x/a,t.vy=n.y/a}contain(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;t._bumpPropertiesAdded||this.addCollisionProperties(t),void 0===e.xAnchorOffset&&(e.xAnchorOffset=0),void 0===e.yAnchorOffset&&(e.yAnchorOffset=0),void 0===t.parent.gx&&(t.parent.gx=0),void 0===t.parent.gy&&(t.parent.gy=0);var r=new Set;return t.x-t.xAnchorOffset<e.x-t.parent.gx-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.x-t.parent.gx-e.xAnchorOffset+t.xAnchorOffset,r.add("left")),t.y-t.yAnchorOffset<e.y-t.parent.gy-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.y-t.parent.gy-e.yAnchorOffset+t.yAnchorOffset,r.add("top")),t.x-t.xAnchorOffset+t.width>e.width-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.width-t.width-e.xAnchorOffset+t.xAnchorOffset,r.add("right")),t.y-t.yAnchorOffset+t.height>e.height-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.height-t.height-e.yAnchorOffset+t.yAnchorOffset,r.add("bottom")),0===r.size&&(r=void 0),r&&s&&s(r),r}outsideBounds(t,e,i){var s=e.x,r=e.y,o=e.width,n=e.height,a=new Set;return t.x<s-t.width&&a.add("left"),t.y<r-t.height&&a.add("top"),t.x>o+t.width&&a.add("right"),t.y>n+t.height&&a.add("bottom"),0===a.size&&(a=void 0),a&&i&&i(a),a}_getCenter(t,e,i){return void 0!==t.anchor?0!==t.anchor[i]?0:e/2:e}hit(t,e){var i,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.hitTestPoint.bind(this),h=this.hitTestRectangle.bind(this),d=this.hitTestCircle.bind(this),c=this.movingCircleCollision.bind(this),f=this.circleCollision.bind(this),l=this.hitTestCircleRectangle.bind(this),u=this.rectangleCollision.bind(this),p=this.circleRectangleCollision.bind(this),g=void 0!==t.parent,x=void 0!==e.parent;return g&&e instanceof Array||x&&t instanceof Array?function(){if(t instanceof Array)var[s,r]=[r,s];for(var o=e.length-1;o>=0;o--){var a=e[o];(i=y(t,a))&&n&&n(i,a)}}():(i=y(t,e))&&n&&n(i),i;function y(t,e){var i=void 0!==t.parent,n=void 0!==e.parent;if(i&&n)return t.diameter&&e.diameter?function(t,e){return s?t.vx+t.vy!==0&&e.vx+e.vy!==0?c(t,e,o):f(t,e,r,o):d(t,e)}(t,e):t.diameter&&!e.diameter?function(t,e){return s?p(t,e,r,o):l(t,e,o)}(t,e):function(t,e){return s?u(t,e,r,o):h(t,e,o)}(t,e);if(n&&void 0!==t.x&&void 0!==t.y)return a(t,e);throw new Error("I'm sorry, ".concat(t," and ").concat(e," cannot be use together in a collision test.'"))}}}}).call(this,i("22a2"))},2244:function(t,e,i){"use strict";(function(t){var s=i("2b0e"),r=i("2f62"),o=i("21e6"),n=i("1733");s.a.use(r.b);var a={state:{bump:new o.a(t),state:"",scale:1,width:window.innerWidth,height:window.innerHeight,contain:{x:30,y:30,width:n.a.size.width-30,height:n.a.size.height-30}}};e.a=new r.a(a)}).call(this,i("22a2"))},5136:function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/media/button.7cb6a9f7.mp3"},"66b7":function(t,e,i){"use strict";var s;i.d(e,"a",(function(){return s})),function(t){t.LOAD="game-load",t.LOAD_PROGRESS="game-load-progress",t.LOAD_TEXT="game-load-text",t.LOAD_ERROR="game-load-error",t.LOAD_COMPLETE="game-load-complete",t.SOUND_LOAD_PROGRESS="game-sound-load-progress",t.SOUND_LOAD_COMPLETE="game-sound-load-complete",t.GAME_INIT="game-init",t.GAME_ENTER="game-enter",t.STATE_CHANGE="game-state",t.RESIZE="game-resize",t.TICKER="ticker"}(s||(s={}))},"6fa8":function(t,e,i){"use strict";var s=i("02c2");i.n(s).a},a485:function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/fonts/roboto.628fc256.woff"},ba5a:function(t,e){},bb9b:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var s,r=i("1733"),o=i("cab8"),n=i("fd0b");!function(t){t.AIM="aim",t.DEATH="death",t.JUMP="jump",t.PORTAL="portal",t.HOVERBOARD="hoverboard",t.SHOOT="shoot",t.WALK="walk",t.RUN="run",t.IDLE="idle"}(s||(s={}));class a extends t.spine.Spine{constructor(t){super(t),this.keyBoardList={},this.vx=0,this.vy=0,this.speed=5,this.speedEffect=2,this.initSpineBoy(),this.initKeyBoard(),r.d.on(n.a.TICKER,()=>{this.parent&&this.ticker()}),r.d.on(n.a.STATE_CHANGE,(t,e)=>{this.parent&&this.onStateChange(t,e)})}get scaleValue(){return r.e.size.height/600}initSpineBoy(){this.scale.set(.3),this.position.set(r.e.size.width/2,r.e.size.height-75*this.scaleValue),this.interactive=!0,this.buttonMode=!0,this.shadowFilter=new t.Filter("\n        attribute vec2 aVertexPosition;\n        attribute vec2 aTextureCoord;\n        \n        uniform mat3 projectionMatrix;\n        \n        varying vec2 vTextureCoord;\n        \n        void main(void) {\n            gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n            vTextureCoord = aTextureCoord;\n        }\n        ","\n        varying vec2 vTextureCoord;\n        \n        uniform sampler2D uSampler;\n        uniform vec4 inputSize;\n        uniform vec4 outputFrame;\n        uniform vec2 shadowDirection;\n        uniform float floorY;\n        \n        void main(void) {\n            //1. get the screen coordinate\n            vec2 screenCoord = vTextureCoord * inputSize.xy + outputFrame.xy;\n            //2. calculate Y shift of our dimension vector\n            vec2 shadow;\n            //shadow coordinate system is a bit skewed, but it has to be the same for screenCoord.y = floorY\n            float paramY = (screenCoord.y - floorY) / shadowDirection.y;\n            shadow.y = paramY + floorY;\n            shadow.x = screenCoord.x + paramY * shadowDirection.x;\n            vec2 bodyFilterCoord = (shadow - outputFrame.xy) * inputSize.zw; // same as / inputSize.xy\n        \n            vec4 originalColor = texture2D(uSampler, vTextureCoord);\n            vec4 shadowColor = texture2D(uSampler, bodyFilterCoord);\n            shadowColor.rgb = vec3(0.0);\n            shadowColor.a *= 0.5;\n        \n            // normal blend mode coefficients (1, 1-src_alpha)\n            // shadow is destination (backdrop), original is source\n            gl_FragColor = originalColor + shadowColor * (1.0 - originalColor.a);\n        }\n        "),this.shadowFilter.uniforms.shadowDirection=[.4,.5],this.shadowFilter.uniforms.floorY=0,this.shadowFilter.padding=100,this.filters=[this.shadowFilter],this.stateData.setMix(s.PORTAL,s.WALK,.2),this.stateData.setMix(s.JUMP,s.WALK,.4),this.stateData.setMix(s.JUMP,s.RUN,.4),this.stateData.setMix(s.WALK,s.JUMP,.4),this.stateData.setMix(s.RUN,s.JUMP,.4),this.doAnimation(s.PORTAL,[s.WALK]),r.b.app.stage.interactive=!0,r.b.app.stage.on("pointerdown",()=>{this.doAnimation(s.JUMP,[s.RUN])})}doAnimation(t,e){var i=["hoverboard","idle","run","shoot","walk"];t!=(this.state.tracks[0]?this.state.tracks[0].animation.name:"")&&(this.state.setAnimation(0,t,i.includes(t)),e&&e.forEach(t=>{this.state.addAnimation(0,t,i.includes(t),0)}))}initKeyBoard(t){if(t){for(var e in this.keyBoardList)this.keyBoardList[e]&&this.keyBoardList[e].destroy();return this.keyBoardList=={}}var i=()=>{this.keyBoardList.shift.isDown?(this.vx*=this.speedEffect,this.vy*=this.speedEffect,this.doAnimation(s.RUN)):(this.vx/=this.speedEffect,this.vy/=this.speedEffect,this.doAnimation(s.WALK))};this.keyBoardList.left=new o.a([37,65],()=>{this.vx=-1*this.speed,i()},()=>{this.vx=0}),this.keyBoardList.right=new o.a([39,68],()=>{this.vx=1*this.speed,i()},()=>{this.vx=0}),this.keyBoardList.shift=new o.a(16,i,i),this.keyBoardList.space=new o.a(32,()=>{this.doAnimation(s.JUMP,[s.RUN])})}containCheck(){this.x<this.width/2&&(this.x=this.width/2),this.x>r.e.size.width-this.width/2&&(this.x=r.e.size.width-this.width/2)}ticker(){this.x+=this.vx,this.y+=this.vy,this.shadowFilter.uniforms.floorY=this.toGlobal(new t.Point(0,0)).y,this.containCheck()}onStateChange(t,e){!e||t==n.b.LANDSCAPE&&e==n.b.WEB||t==n.b.WEB&&e==n.b.LANDSCAPE||this.position.set(this.x*r.e.size.ratio,r.e.size.height-75*this.scaleValue)}}}).call(this,i("22a2"))},cab8:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("2532");class s{constructor(t,e,i){this.isDown=!1,this.keyCodes="number"==typeof t?[t]:t,this.press=e,this.release=i,this.initEvents()}initEvents(t){var e=t?(t,e,i,s)=>{t.removeEventListener(e,i,!!s)}:(t,e,i,s)=>{t.addEventListener(e,i,!!s)},i=window;e(i,"keydown",this),e(i,"keyup",this)}onKeyDown(t){this.isDown||this.keyCodes.includes(t.keyCode)&&(this.isDown=!this.isDown,this.isDown&&this.press&&this.press())}onKeyUp(t){this.isDown&&this.keyCodes.includes(t.keyCode)&&(this.isDown=!this.isDown,!this.isDown&&this.release&&this.release())}handleEvent(t){switch(t.type){case"keydown":this.onKeyDown(t);break;case"keyup":this.onKeyUp(t)}}destroy(){this.initEvents(!0)}}},e164:function(t,e,i){t.exports=i.p+"assets/sprites/main.sprites.4b50c313.json"},ecfc:function(t,e,i){t.exports=i.p+"assets/sprites/fighter.sprites.618aab00.json"},ef06:function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/fonts/arial.50e952e6.woff"},faf0:function(t,e,i){},fc22:function(t,e,i){"use strict";i.r(e);i("faf0");var s,r=i("ade3"),o=(i("b024"),i("d473"),i("2b0e")),n=i("22a2"),a=(i("e260"),i("ddb0"),i("9ab4")),h=i("60a3"),d=(s=class extends h.b{constructor(){super(...arguments),this.count=0,this.clickCount=0}test(t){this.count++,t.target.innerHTML="Tap"+this.count}click(t){this.clickCount++,t.target.innerHTML="Click"+this.clickCount}},s=Object(a.a)([h.a],s)),c=(i("6fa8"),i("2877")),f=Object(c.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{style:{width:t.$store.state.width+"px",height:t.$store.state.height+"px",transform:"translate(-50%,-50%) scale("+t.$store.state.scale+")"},attrs:{id:"views"}},[i("div",{staticClass:"html-button"},[i("v-touch",{staticClass:"test-button",attrs:{tag:"span"},on:{tap:function(e){return t.test(e)}}},[t._v("\n        Tap\n      ")]),i("span",{staticClass:"test-button",on:{click:function(e){return t.click(e)}}},[t._v("Click")])],1),i("router-view")],1)])}),[],!1,null,null,null).exports,l=i("66b7"),u=(i("ba5a"),i("1da1")),p=i("fd0b"),g=i("1733");function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v=new n.Loader;var b=new class{load(){var t=this;return Object(u.a)((function*(){yield t.loadJson(),yield t.loadFonts(),yield t.loadImages(),g.d.once(p.a.GAME_INIT,()=>t.loadSounds())}))()}loadImages(){var t=y(y({},g.b.resource.base),g.b.resource.html);this.loadResource(t)}loadJson(){}loadFonts(){}loadSounds(){}interator(t,e){var i=function(i){var s=t[i];s instanceof Array?s.forEach((t,s)=>{e(i+"_"+s,t)}):"string"==typeof s&&e(i,s)};for(var s in t)i(s)}loadResource(t){var e=v.resources;this.interator(t,(t,i)=>{e[t]||v.add(t,i)});var i=()=>g.d.emit(p.a.LOAD_PROGRESS,v.progress);v.on("progress",i).load(()=>{v.off("progress",i),g.d.emit(p.a.LOAD_COMPLETE)})}},m=v.resources,A={test:{},html:{},base:{main:i("e164"),scrollerBg:i("1695"),fighter:i("ecfc"),spineboy:i("feff")},sound:{button:i("5136")},font:{roboto:i("a485"),arial:i("ef06")}};class w extends n.Sprite{constructor(t){super(t),g.d.on(p.a.STATE_CHANGE,()=>{this.parent&&this.onStateChange()})}onStateChange(){var t=g.e.size.center;this.position.set(t.x-this.width/2,t.y-this.height/2)}}var O=i("cab8"),P=i("2244");class C extends n.utils.EventEmitter{constructor(t,e){super(),this.dragging=!1,this.data=null,this.diff=new n.Point,this.sprite=t,this.app=e,this.initEvents()}initEvents(t){this.sprite.interactive=!t,this.sprite.buttonMode=!t;var e=t?"off":"on";this.sprite[e]("pointerdown",this.handleEvent,this)[e]("pointerup",this.handleEvent,this)[e]("pointerupoutside",this.handleEvent,this)[e]("pointermove",this.handleEvent,this)}onDragStart(t){var e=this.app&&this.app.stage.scale?this.app.stage.scale:{x:1,y:1};this.data=t.data,this.dragging=!0,this.diff.x=this.data.global.x-this.sprite.getGlobalPosition().x,this.diff.y=this.data.global.y-this.sprite.getGlobalPosition().y,this.diff.x/=e.x,this.diff.y/=e.y}onDragMove(t){if(this.dragging){var e=this.data.getLocalPosition(this.sprite.parent);this.sprite.x=e.x-this.diff.x,this.sprite.y=e.y-this.diff.y}}onDragEnd(t){this.dragging=!1,this.data=null}handleEvent(t){switch(t.type){case"pointerdown":this.onDragStart(t);break;case"pointermove":this.onDragMove(t);break;case"pointerup":case"pointerupoutside":this.onDragEnd(t)}}destroy(){this.initEvents(!0)}}class E extends n.Sprite{constructor(t){super(t),this.keyBoardList={},this.vx=0,this.vy=0,this.speed=5,this.speedEffect=2,this.initExplorer(),g.d.on(p.a.TICKER,()=>{this.parent&&this.ticker()})}initExplorer(){this.texture=m.main.textures["explorer.png"],this.position.set(68,g.a.size.height/2-this.height/2),this.vx=this.vy=0,new C(this,g.b.app),this.on("pointerdown",()=>{this.active=!0})}get active(){return"{}"!=JSON.stringify(this.keyBoardList)}set active(t){this.active!=t&&(this.initKeyBoard(!t),this.scale.set(t?1.5:1))}initKeyBoard(t){if(t){for(var e in this.keyBoardList)this.keyBoardList[e]&&this.keyBoardList[e].destroy();return this.keyBoardList=={}}var i=()=>{this.keyBoardList.shift.isDown&&(this.vx*=this.speedEffect,this.vy*=this.speedEffect)};this.keyBoardList.left=new O.a([37,65],()=>{this.vx=-1*this.speed,i()},()=>{this.vx=0}),this.keyBoardList.right=new O.a([39,68],()=>{this.vx=1*this.speed,i()},()=>{this.vx=0}),this.keyBoardList.up=new O.a([38,87],()=>{this.vy=-1*this.speed,i()},()=>{this.vy=0}),this.keyBoardList.down=new O.a([40,83],()=>{this.vy=1*this.speed,i()},()=>{this.vy=0}),this.keyBoardList.shift=new O.a(16,i,()=>{this.vx/=this.speedEffect,this.vy/=this.speedEffect})}ticker(){this.x+=this.vx,this.y+=this.vy,P.a.state.bump.contain(this,P.a.state.contain,!0)}}class M extends n.Sprite{constructor(t){super(t),this.initDoor()}initDoor(){this.position.set(32,0)}}var S=i("bb9b");class k extends n.AnimatedSprite{constructor(t,e){super(t,e),this.initFighter(),g.d.on(p.a.STATE_CHANGE,()=>{this.parent&&this.onStateChange()})}initFighter(){this.position.set(g.e.size.width/2,30+this.height/2),this.rotation=Math.PI/2,this.anchor.set(.5),this.animationSpeed=.5,this.play()}onStateChange(){this.position.set(g.e.size.width/2,30+this.height/2)}}class L extends n.Container{constructor(){super(),this.postition=0,this.background=[],this.foreground=[],this.initParallaxScroller(),g.d.on(p.a.TICKER,()=>{this.parent&&this.ticker()}),g.d.on(p.a.STATE_CHANGE,()=>{this.parent&&this.onStateChange()})}initParallaxScroller(){Array.from({length:2}).forEach(()=>{var t=new n.Sprite(m.scrollerBg.textures["bgtile.jpg"]);t.scale.set(this.scaleValue);var e=new n.Sprite(m.scrollerBg.textures["ground.png"]);e.scale.set(this.scaleValue),e.anchor.set(0,.7),e.y=g.e.size.height,this.background.push(t),this.foreground.push(e)}),this.addChild(...this.background,...this.foreground)}setParallaxScroller(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.postition,i=t[0].width,[s,r]=t;s.x=-e,s.x%=2*i,s.x<0&&(s.x+=2*i),s.x-=i,r.x=-e+i,r.x%=2*i,r.x<0&&(r.x+=2*i),r.x-=i}ticker(){this.postition+=10,this.setParallaxScroller(this.background,.6*this.postition),this.setParallaxScroller(this.foreground)}get scaleValue(){return g.e.size.height/600}onStateChange(){Array.from({length:2}).forEach((t,e)=>{this.background[e].scale.set(this.scaleValue),this.foreground[e].scale.set(this.scaleValue),this.foreground[e].y=g.e.size.height})}}class T{constructor(){this.init(),g.d.on(p.a.RESIZE,(t,e)=>this.onResize(t,e)).on(p.a.STATE_CHANGE,t=>this.onStateChange(t))}onResize(t,e){var i=g.b.app;i.renderer.resize(e.width,e.height),i.stage.scale.set(t);var s=g.b.resolution.size;P.a.state.scale=t,P.a.state.width=s.width,P.a.state.height=s.height}onStateChange(t){P.a.state.state=t}init(){this.initComponent()}initComponent(){this.parallaxScroller=new L,this.background=new w(m.main.textures["dungeon.png"]),this.door=new M(m.main.textures["door.png"]),this.explorer=new E(m.main.textures["explorer.png"]),this.spineBoy=new S.a(m.spineboy.spineData),this.fighter=new k(Object.values(m.fighter.textures)),g.b.app.stage.addChild(this.parallaxScroller,this.spineBoy,this.fighter)}}var R=i("8c4f");o.a.use(R.a);var D=new R.a({mode:"hash",routes:[{path:"/",name:"home"}]});function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}new class{constructor(t){g.b.resource=t.resource,g.d.once(l.a.LOAD_COMPLETE,()=>{this.initGame(),this.initData()}),b.load()}initGame(){this.initVue(),this.initPixi(),g.d.emit(l.a.GAME_INIT)}initData(){setTimeout(()=>{this.initScence(),g.d.emit(l.a.GAME_ENTER)},200)}initPixi(){var t=n.utils.isMobile.any?W(W({},g.a.size),{},{resolution:window.devicePixelRatio||1,autoResize:!0}):W({},g.a.size);g.b.app=new n.Application(t),document.querySelector("#app").appendChild(g.b.app.view)}initVue(){var t=i("ca95");o.a.config.productionTip=!1,o.a.use(t,{name:"v-touch"}),g.b.appVue=new o.a({store:P.a,router:D,render:t=>t(f)}).$mount("#app")}initScence(){g.b.scence=new T,g.b.app.ticker.add(()=>{g.d.emit(l.a.TICKER)})}}({resource:A})},fd0b:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return r.a}));var s,r=i("66b7");!function(t){t.WEB="web",t.LANDSCAPE="landscape",t.PORTRAIT="portrait"}(s||(s={}))},feff:function(t,e,i){t.exports=i.p+"assets/spines/spineboy-pro.b714dfd8.json"}}]);