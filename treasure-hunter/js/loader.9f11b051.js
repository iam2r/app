(window.webpackJsonp=window.webpackJsonp||[]).push([["loader"],{"02a2":function(e,t,i){},1733:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return d})),i.d(t,"e",(function(){return c})),i.d(t,"a",(function(){return r}));var n=i("faa1"),s=(i("c975"),i("4d63"),i("25f0"),i("466d"),i("5319"),i("1276"),i("fd0b"));class o{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.width=e,this.height=t}get center(){return{x:this.width/2,y:this.height/2}}get ratio(){return this.width/this.height}}var r={size:{width:800,height:600}};var a=new n.EventEmitter,d=new class{constructor(){this.phone={iphonex:!1,iphonexr:!1,iphonexsmax:!1},this.browser={chrome:!1,safari:!1,firefox:!1,ie:!1,edge:!1,opera:!1,qq:!1,360:!1},this.mobile={device:!1,ios:!1,andriod:!1,tablet:!1},this.mobile=this.initMobileData(),this.version=this.getVersion(),this.webkit=this.iosWKWebView(),this.notchScreen=this.isNotchScreen(),this.browser=this.initBrowserData()}initMobileData(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,i=!!/iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()),n=/(?:iPad|PlayBook)/.test(e)||t&&!/(?:Mobile)/.test(e)||/(?:Firefox)/.test(e)&&/(?:Tablet)/.test(e);return{ios:i,andriod:t,tablet:n,device:t||i||n}}getVersion(){return(navigator.userAgent.toLocaleLowerCase().match(/os [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}iosWKWebView(){return this.mobile.ios&&-1==navigator.userAgent.indexOf("Safari")}isNotchScreen(){var e=this.mobile.ios,t=screen.width,i=screen.height;return this.phone.iphonex=e&&375==t&&812==i&&3==devicePixelRatio,this.phone.iphonexr=e&&414==t&&896==i&&2==devicePixelRatio,this.phone.iphonexsmax=e&&414==t&&896==i&&3==devicePixelRatio,this.phone.iphonex||this.phone.iphonexr||this.phone.iphonexsmax}initBrowserData(){var e=navigator.userAgent;return{chrome:e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1,safari:e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome")&&void 0===window.external,firefox:e.indexOf("Firefox")>-1,ie:!!window.ActiveXObject||"ActiveXObject"in window,edge:e.indexOf("Edge")>-1,opera:e.indexOf("Opera")>-1,qq:e.indexOf("qqbrowse")>-1,360:((e,t)=>{var i=navigator.mimeTypes;for(var n in i)if("application/vnd.chromium.remoting-viewer"==i[n].type)return!0;return!1})()}}get osName(){var e="Unknow",t="",i=[],n=navigator.userAgent,s=navigator.appVersion,o=navigator.platform;return this.mobile.andriod&&(t=(i=/android (\d+(?:\.\d+)+)/i.exec(n)||/android (\d+(?:\.\d+)+)/i.exec(o))?i[1]:""),this.mobile.ios&&(t=(i=/(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(n))?i[2]:""),this.getWinOSName()?e=this.getWinOSName():this.mobile.ios?e="iOS_"+t:-1!==s.indexOf("Mac")?e="OS X_":-1!==s.indexOf("X11")&&-1===s.indexOf("Linux")?e="OS X":this.mobile.andriod?e="Android_"+t:-1!==s.indexOf("Linux")&&(e="Linux"),e}getWinOSName(){if(-1!=navigator.appVersion.indexOf("Win")&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(navigator.userAgent)&&"NT"==RegExp.$1)switch(RegExp.$2){case"5.1":return"WindowsXP";case"6.0":return"WindowsVista";case"6.1":return"Windows7";case"6.2":return"Windows8";case"10.0":return"Windows10";default:return"NT"}return""}get screenState(){var e=s.b.WEB;(e=this.mobile.device?90==window.orientation||-90==window.orientation?s.b.LANDSCAPE:s.b.PORTRAIT:window.innerWidth>1100?s.b.WEB:window.innerWidth/window.innerHeight<.73?s.b.PORTRAIT:s.b.LANDSCAPE,this.mobile.ios&&parseInt(this.version.split(".")[0])<9)&&(e=document.documentElement.clientWidth>document.documentElement.clientHeight?s.b.LANDSCAPE:s.b.PORTRAIT);return this.mobile.tablet&&(e=s.b.LANDSCAPE),e}},c=new class{constructor(){this.scale=1;var e=r.size;this.size=new o(e.width,e.height),window.addEventListener("resize",()=>this.onResize()),window.addEventListener("orientationchange",()=>this.onResize()),a.once(s.a.GAME_ENTER,()=>{this.onResize(),a.emit(s.a.STATE_CHANGE,this.state)}),this.onResize()}onResize(){this.doState(),this.doResize()}doState(){var e=d.screenState;if(e!==this.state){var t=this.state;this.state=e,this.size=this.isPortrait?new o(r.size.height,r.size.width):new o(r.size.width,r.size.height),document.querySelector("body").setAttribute("data-screen",this.state),a.emit(s.a.STATE_CHANGE,this.state,t)}}doResize(){var e=new o(innerWidth,innerHeight),t=this.size,i=e.ratio>t.ratio?e.height/t.height:e.width/t.width,n=new o(t.width*i,t.height*i);this.scale=i,this.renderSize=n,a.emit(s.a.RESIZE,i,this.renderSize)}get isPortrait(){return this.state===s.b.PORTRAIT}get isLandscape(){return this.state===s.b.LANDSCAPE}};t.b={app:void 0,appVue:void 0,scence:void 0,resource:void 0,emitter:a,device:d,resolution:c,config:r}},"66b7":function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.LOAD="game-load",e.LOAD_PROGRESS="game-load-progress",e.LOAD_TEXT="game-load-text",e.LOAD_ERROR="game-load-error",e.LOAD_COMPLETE="game-load-complete",e.SOUND_LOAD_PROGRESS="game-sound-load-progress",e.SOUND_LOAD_COMPLETE="game-sound-load-complete",e.GAME_INIT="game-init",e.GAME_ENTER="game-enter",e.STATE_CHANGE="game-state",e.RESIZE="game-resize",e.TICKER="ticker"}(n||(n={}))},c88f:function(e,t,i){},f6a2:function(e,t,i){"use strict";i.r(t),i.d(t,"Loader",(function(){return c}));i("fb6a"),i("841c");var n=i("faa1"),s=i("b383"),o=i.n(s),r=i("fd0b"),a=i("1733");i("c88f");class d{constructor(){this.preventTouchEvent=!0,this.init(),this.onStateChange(),this.initEvents()}init(){var e=a.e.scale,t=this.element=document.createElement("div");t.className="fullscreen",t.innerHTML='\n            <div class="container">\n                <div class="icon-box" style="transform:scale('.concat(e,') translate(-50%,-50%)">\n                </div>\n            </div>'),this.element.style.visibility="hidden",document.body.appendChild(t)}onStateChange(){var e=a.e.isPortrait;if(a.c.mobile.ios&&!a.c.mobile.tablet){var t=document.documentElement.clientHeight,i=e?window.innerHeight==t:window.innerHeight<t;this.element.style.visibility=i?"visible":"hidden",document.querySelector("#app").style.pointerEvents=i?"none":"",this.preventTouchEvent=!i,window.scrollTo(0,0)}}onTouchFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}onPreventTouch(e){(this.preventTouchEvent||e.touches.length>1)&&e.preventDefault()}doClick(e){var t,i=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||((t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(t))}initEvents(e){var t=e?(e,t,i,n)=>{e.removeEventListener(t,i,n)}:(e,t,i,n)=>{e.addEventListener(t,i,n)};t(window,"touchstart",this,{passive:!1}),t(window,"touchend",this),t(window,"touchcancel",this),t(window,"resize",this),t(window,"orientationchange",this)}handleEvent(e){switch(e.type){case"touchstart":this.onPreventTouch(e);break;case"touchend":case"touchcancel":this.doClick(e),a.c.mobile.andriod&&this.onTouchFullScreen();break;case"resize":case"orientationchange":this.onStateChange()}}}i("02a2");class c extends n.EventEmitter{init(){var e=o.a.parse(location.search.slice(1));document.body.setAttribute("data-browser",(()=>{for(var e in a.c.browser)if(a.c.browser[e])return e})()),document.body.innerHTML+='\n            <div class="loader-page">\n                <div class="container">\n                    <i class="logo"></i>\n                    <div class="progress">\n                        <span class="bar"></span>\n                    </div>\n                    <i class="message">'.concat("zh_CN"==e.language?"加载中...":"Loading...",'</i>\n                </div>\n                <div class="mask"></div>\n            </div>\n        '),a.c.mobile.device&&new d,this.elContainer=document.querySelector(".loader-page .container"),this.elProgress=document.querySelector(".loader-page .bar"),this.elText=document.querySelector(".loader-page .message"),this.resize()}load(){this.emit("load"),this.init(),this.bindEvents()}bindEvents(){var e=()=>this.resize(),t=e=>this.progress=e,i=e=>this.text=e,n=e=>this.text=e;a.d.on(r.a.RESIZE,e).on(r.a.LOAD_PROGRESS,t).on(r.a.LOAD_TEXT,i).on(r.a.LOAD_ERROR,n).once(r.a.GAME_ENTER,()=>{a.d.off(r.a.RESIZE,e).off(r.a.LOAD_PROGRESS,t).off(r.a.LOAD_TEXT,i).off(r.a.LOAD_ERROR,n),this.complete()}),window.addEventListener("contextmenu",e=>e.preventDefault())}set progress(e){this.elProgress.style.width=e+"%"}set text(e){this.elText.innerText=e}resize(){this.elContainer.style.transform="translate(-50%,-50%) scale("+a.e.scale+")",this.elContainer.style.width="".concat(100/a.e.scale,"% "),this.elContainer.style.height="".concat(100/a.e.scale,"% ")}complete(){var e=document.querySelector(".loader-page"),t=e.querySelector(".mask");t.style.opacity="1",t.addEventListener("transitionend",()=>{e.style.opacity="0",e.addEventListener("transitionend",()=>{document.querySelector("body").removeChild(e)})})}}},fd0b:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s.a}));var n,s=i("66b7");!function(e){e.WEB="web",e.LANDSCAPE="landscape",e.PORTRAIT="portrait"}(n||(n={}))}}]);