(window.webpackJsonp=window.webpackJsonp||[]).push([["loader"],{"02a2":function(e,t,n){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"841c":function(e,t,n){"use strict";var i=n("d784"),s=n("825a"),a=n("1d80"),o=n("129f"),r=n("14c3");i("search",1,(function(e,t,n){return[function(t){var n=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=s(e),c=String(this),l=a.lastIndex;o(l,0)||(a.lastIndex=0);var d=r(a,c);return o(a.lastIndex,l)||(a.lastIndex=l),null===d?-1:d.index}]}))},c88f:function(e,t,n){},f6a2:function(e,t,n){"use strict";n.r(t);n("841c");var i=n("faa1"),s=n("b383"),a=n.n(s),o=n("fd0b"),r=n("1733");n("c88f");class c{constructor(){this.preventTouchEvent=!0,this.init(),this.onStateChange(),this.initEvents()}init(){var e=r.e.scale,t=this.element=document.createElement("div");t.className="fullscreen",t.innerHTML='\n            <div class="container">\n                <div class="icon-box" style="transform:scale('.concat(e,') translate(-50%,-50%)">\n                </div>\n            </div>'),this.element.style.visibility="hidden",document.body.appendChild(t)}onStateChange(){var e=r.e.isPortrait;if(r.c.mobile.ios&&!r.c.mobile.tablet){var t=document.documentElement.clientHeight,n=e?window.innerHeight==t:window.innerHeight<t;this.element.style.visibility=n?"visible":"hidden",document.querySelector("#app").style.pointerEvents=n?"none":"",this.preventTouchEvent=!n,window.scrollTo(0,0)}}onTouchFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}onPreventTouch(e){(this.preventTouchEvent||e.touches.length>1)&&e.preventDefault()}doClick(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n.dispatchEvent(t))}initEvents(e){var t=e?(e,t,n,i)=>{e.removeEventListener(t,n,i)}:(e,t,n,i)=>{e.addEventListener(t,n,i)};t(window,"touchstart",this,{passive:!1}),t(window,"touchend",this),t(window,"touchcancel",this),t(window,"resize",this),t(window,"orientationchange",this)}handleEvent(e){switch(e.type){case"touchstart":this.onPreventTouch(e);break;case"touchend":case"touchcancel":this.doClick(e),r.c.mobile.andriod&&this.onTouchFullScreen();break;case"resize":case"orientationchange":this.onStateChange()}}}n("02a2");n.d(t,"Loader",(function(){return l}));class l extends i.EventEmitter{init(){var e=a.a.parse(location.search.slice(1));document.body.setAttribute("data-browser",(()=>{for(var e in r.c.browser)if(r.c.browser[e])return e})()),document.body.innerHTML+='\n            <div class="loader-page">\n                <div class="container">\n                    <i class="logo"></i>\n                    <div class="progress">\n                        <span class="bar"></span>\n                    </div>\n                    <i class="message">'.concat("zh_CN"==e.language?"加载中...":"Loading...",'</i>\n                </div>\n                <div class="mask"></div>\n            </div>\n        '),r.c.mobile.device&&new c,this.elContainer=document.querySelector(".loader-page .container"),this.elProgress=document.querySelector(".loader-page .bar"),this.elText=document.querySelector(".loader-page .message"),this.resize()}load(){this.emit("load"),this.init(),this.bindEvents()}bindEvents(){var e=()=>this.resize(),t=e=>this.progress=e,n=e=>this.text=e,i=e=>this.text=e;r.d.on(o.a.RESIZE,e).on(o.a.LOAD_PROGRESS,t).on(o.a.LOAD_TEXT,n).on(o.a.LOAD_ERROR,i).once(o.a.GAME_ENTER,()=>{r.d.off(o.a.RESIZE,e).off(o.a.LOAD_PROGRESS,t).off(o.a.LOAD_TEXT,n).off(o.a.LOAD_ERROR,i),this.complete()}),window.addEventListener("contextmenu",e=>e.preventDefault())}set progress(e){this.elProgress.style.width=e+"%"}set text(e){this.elText.innerText=e}resize(){this.elContainer.style.transform="translate(-50%,-50%) scale("+r.e.scale+")",this.elContainer.style.width="".concat(100/r.e.scale,"% "),this.elContainer.style.height="".concat(100/r.e.scale,"% ")}complete(){var e=document.querySelector(".loader-page"),t=e.querySelector(".mask");t.style.opacity="1",t.addEventListener("transitionend",()=>{e.style.opacity="0",e.addEventListener("transitionend",()=>{document.querySelector("body").removeChild(e)})})}}}}]);